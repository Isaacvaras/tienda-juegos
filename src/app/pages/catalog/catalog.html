<div class="catalog-wrapper">
  <div class="container py-4">
    <h1 class="catalog-title">Catálogo de juegos</h1>
    <p class="catalog-subtitle">Descubre nuestros juegos de mesa y agrégalos a tu carrito</p>
    <input
      type="text"
      class="form-control mb-3 search-input"
      placeholder="Buscar juego por nombre..."
      [(ngModel)]="searchText"
    />

    <div class="mb-4 category-filters">
      <button
        class="btn btn-sm me-2 mb-2"
        *ngFor="let c of categories"
        [class.btn-primary]="selectedCategory === c"
        [class.btn-outline-primary]="selectedCategory !== c"
        (click)="selectedCategory = c"
      >
        {{ c }}
      </button>
    </div>

    <div class="catalog-grid">
      <div class="product-card" *ngFor="let p of filteredProducts">
        <div class="image-container">
          <img [src]="p.image" [alt]="p.name" />
          <span class="badge-category">{{ p.category }}</span>
        </div>

        <div class="product-info">
          <h3 class="product-name">{{ p.name }}</h3>
          <p class="product-price">S/ {{ p.price | number : '1.2-2' }}</p>

          <p class="product-stock" [class.out]="p.stock === 0">
            {{ p.stock > 0 ? 'Stock: ' + p.stock : 'Agotado' }}
          </p>
        </div>

        <button class="btn btn-primary w-100" [disabled]="p.stock === 0" (click)="addToCart(p)">
          {{ p.stock === 0 ? 'Sin stock' : 'Agregar al carrito' }}
        </button>
      </div>
    </div>
  </div>
</div>
